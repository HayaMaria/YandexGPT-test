# YandexGPT-test

## Описание
Программа обрабатывает список английских слов, получая их транскрипцию и перевод с помощью нейросети. Результат записывается в файл совместимый с Excel/Google Sheets.

## Возможности
- Генерация таблицы слов  
- Добавление транскрипции  
- Добавление перевода 
- Обработка ошибок: слова, которые не удалось распознать или перевести, сохраняются отдельно для повторной обработки.

## Требования
- Python 3.12 
- PyJWT — для работы с токенами Yandex Cloud 
- requests — для запросов к нейросети
- API-ключ Yandex Cloud для доступа к нейросети. (Подробнее в файле How_to_create_the_key.md)

## Технологии
- Python 3.12

## Установка

1. **Склонируйте репозиторий:**

`git clone https://github.com/HayaMaria/testAPI.git`  
`cd testAPI`

2. **Убедитесь, что у вас установлен Python 3.12+.**

3. **Установите зависимости:**  
`pip install -r requirements.txt`

4. **Создайте свои файлы на основе шаблонов из папки templates.**  
Уберите из их названия слово "TEMPLATE", чтобы получить:
- `secrets.json`
- `words.txt`
- `ID_folder.txt`

**Никогда не выкладывайте `secrets.json` и автоматически создающийся файл `token_cache.txt` в публичный доступ!**

5. **Поместите эти файлы в одну папку.**  
Программа определяет путь к этой папке одним из способов:
- через домашнюю библиотеку пользователя
- или через переменную окружения `KEY_FOLDER`

### Настройка переменной окружения `KEY_FOLDER`

**Windows:**

- Временная (действует только в текущем окне терминала):  
`set KEY_FOLDER=\путь\к\папке`

- Постоянная (сохраняется для всех сессий):  
`setx KEY_FOLDER "\путь\к\папке"`  
После `setx` закройте и откройте терминал заново.

**macOS / Linux:**  
`export KEY_FOLDER=/путь/к/папке`  
Чтобы сохранить после перезагрузки, добавьте эту строку в `~/.bashrc` или `~/.zshrc`.


## Заметки для пользователя по использованию 
- В secrets.json пользователь вставляет свой ключ Yandex Cloud (Подробнее в файле How_to_create_the_key.md). 

**Никогда не выкладывайте ключ в публичный доступ!**
- В words.txt кладёт английские слова (через запятую или перевод строки). 
  - После запуска таблица появляется в table_words.txt. 
  - Если количество ошибок > 0 — проверить failed_words.txt для повторной обработки слов.


- В ID_folder.txt нужно вставить адресную строку вашего фолдера. (Подробнее в файле How_to_create_the_key.md) 
  - Пример: b1g82u1r09dr8pd 

## Запуск проекта

Перед запуском проекта нужно открыть терминал (командную строку):

- **Windows:**
  Нажмите `Win + R`, введите `cmd` и нажмите **Enter**.

- **macOS / Linux:**
  Откройте приложение **Terminal**.

Перейдите в папку проекта с помощью команды:
     ```bash
     cd путь/к/папке/проекта
     ```

Когда вы находитесь в папке с проектом, выполните команду:

```bash
python -m test_api.main
```

Если терминал отвечает, что команда python не найдена, попробуйте:

```bash
python3 -m test_api.main
```